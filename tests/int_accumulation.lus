/* main = switcher */
/* Do not remove the line above */

node accumulation(v: int) = (tot: int)
with var foo: int in
  tot = (0 fby (tot + v)) + v

node switcher(b: bool; v: int) = (tot: int)
with var foo: int in
  tot = if b then accumulation(v) else 0
